class文件结构主要包含以下部份
* 魔数
* class文件版本
* 常量池
* 访问标识
* 类索引、父类索引、接口索引集合
* 字段表集合
* 方法表集合
* 属性表集合


##### 魔数
* 每个class文件的头4个字节称为魔数
* 它的唯一作用是确定这个文件是否为一个虚拟机接受的有效、合法的class文件。
* class文件的魔数值固定为0xCAFEBABE

##### class文件版本
* 排列在魔数后的两个字节代表编译的副版本号，再后两个字节代表主版本号。
* 验证字节码文件的主版本号和次版本号同样也是格式验证的任务之一，因为如果高版本的jdk编译字节码文件，自然不能在低版本的jvm中运行。否则JVM会抛出java.lang.UnsupportedClassVersionError异常。

##### 常量池
* constant_pool_count常量池计数器的值等于时池中成员数量加1。
* constant_pool 常量池，是一种表结构，它包含class文件结构及其字结构中引用的所有字符串常量、类或接口名、字段名和其它常量。常量池中的每一项都具备相同特征的第一字节作为类型标记。

##### 访问标识
常量池后面就是访问标识，用两字节表示，标识了类或接口的该问信息，比如该class文件是类还是接口，是否被定义成public、abstract

##### 类索引、父类索引、接口索引集合
* 访问标志后的两个字节就类索引
* 类索引后的两个字节就是父类索引
* 父类索引后的两个字节是接口索引计数器
* 通过这三项就可以确定了这个类的继承关系了。

##### 字段表集合
字段表用来描述接口声明的变量，这里字段包含了类级别变量以及实例变量，但是不包括内部声明的局部变量。
* fields_count （字段计数器）fields_count的值表示当前class文件fields表的成员个数。fields表中每个成员都是一个field_info结构，用于表示该类或接口所声明的类字段或者实例字段。
* fields []（字段表）fields表中的每个成员都必须是一个fields_info结构的数据项，用 于表示当前类或接口中某个字段的完整描述。fields表描述当前类或接口声明的所有字段，但不包括从父类或父接口继承的那些字段。

##### 方法表集合
methods：指向常量池索引集合，它完整描述了每个方法的签名，如果这个方法不是抽象的或者不是native的，那么字节码中会体现出来。

* methods_count （方法计数器）methods_count的值表示当前class文件methods表的成员个数。methods 表中每个成员都是一个method_info结构。
* methods []（方法表）methods表中的每个成员都必须是一个method_info结构，用于表示当前类或接口中某个方法的完整描述。如果某个method_info结构的access_ flags项既没有设置 ACC_NATIVE 标志也没有设置ACC_ABSTRACT标志，那么该 结构中也应包含实现这个方法所用的Java虚拟机指令。
method_info 结构可以表示类和接口中定义的所有方法，包括实例方法、类方法、 实例初始化方法和类或接口初始化方法。methods表只描述当前类或接口中声明的方法，不包括从父类或父接口继承的方法。

##### 属性表集合
属性表不仅在方法表有用到，字段表和Class文件中也会用得到。
attributes：不同值的集合，它提供了额外的关于这个类的信息，包括任何带有RetentionPolicy.CLASS 或者RetentionPolicy.RUNTIME的注解。
attributes_count （属性计数器）
attributes_count的值表示当前class文件属性表的成员个数。属性表中每一项都是一个attribute_info结构。
attributes []（属性表）
属性表的每个项的值必须是attribute_info结构。


### 字节码指令集
JVM中字节码指令集按用途大致可分为9类： 

1. 加载与存储指令
1. 算术指令
1. 类型转换指令
1. 对象的创建与访问指令
1. 方法调用与返回指令
1. 操作数栈管理指令
1. 控制转移指令
1. 异常处理指令
1. 同步控制指令